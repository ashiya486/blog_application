2023-05-10 10:55:23.527  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.c.impl.AxonServerManagedChannel    : Reconnect for context default requested. Closing current connection.
2023-05-10 10:55:24.224  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-user-query-1, groupId=user-query] Disconnecting from node 2147482646 due to request timeout.
2023-05-10 10:55:24.213  INFO 16980 --- [cluster-ClusterId{value='645a5ba6703157672fb41dd8', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:696) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method) ~[na:na]
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[na:na]
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168) ~[na:na]
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:110) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:135) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:713) ~[mongodb-driver-core-4.6.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:571) ~[mongodb-driver-core-4.6.1.jar:na]
	... 5 common frames omitted

2023-05-10 10:55:24.327  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-user-query-1, groupId=user-query] Cancelled in-flight HEARTBEAT request with correlation id 24742 due to node 2147482646 being disconnected (elapsed time since creation: 42153265ms, elapsed time since send: 42153263ms, request timeout: 30000ms)
2023-05-10 10:55:24.385  INFO 16980 --- [kafka-coordinator-heartbeat-thread | user-query] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Group coordinator localhost:9092 (id: 2147482646 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response.isDisconnected: false. Rediscovery will be attempted.
2023-05-10 10:55:24.385  INFO 16980 --- [kafka-coordinator-heartbeat-thread | user-query] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Requesting disconnect from last known coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 10:55:24.415  INFO 16980 --- [axon-connector-16980@ctsjava2356-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2023-05-10 10:55:24.643  INFO 16980 --- [cluster-ClusterId{value='645a5ba6703157672fb41dd8', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:921}] to localhost:27017
2023-05-10 10:55:24.643  INFO 16980 --- [cluster-ClusterId{value='645a5ba6703157672fb41dd8', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=262867900}
2023-05-10 10:55:24.644  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 10:55:24.698  INFO 16980 --- [axon-connector-16980@ctsjava2356-1] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2023-05-10 10:55:24.701  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 10:55:29.365  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.axonframework.axonserver.connector.AxonServerException: The Event Stream has been closed, so no further events can be retrieved
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.peekNullable(EventBuffer.java:178) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.hasNextAvailable(EventBuffer.java:144) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:418) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:318) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1145) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1340) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1317) ~[axon-messaging-4.7.3.jar:4.7.3]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:539) ~[grpc-api-1.50.2.jar:1.50.2]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487) ~[grpc-stub-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:563) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:744) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:723) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.50.2.jar:1.50.2]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	... 1 common frames omitted

2023-05-10 10:55:29.365  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2023-05-10 10:55:29.379  INFO 16980 --- [grpc-default-executor-2] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:539) ~[grpc-api-1.50.2.jar:1.50.2]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487) ~[grpc-stub-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:563) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:744) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:723) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.50.2.jar:1.50.2]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2023-05-10 10:55:29.422  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2023-05-10 10:55:29.439  INFO 16980 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2023-05-10 10:55:29.440  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 2 command handlers registered
2023-05-10 10:55:29.445  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Released claim
2023-05-10 10:55:30.511  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=2} for segment: Segment[0/0]
2023-05-10 11:02:12.516  INFO 16980 --- [axon-connector-16980@ctsjava2356-1] i.a.a.connector.impl.HeartbeatMonitor    : Did not receive heartbeat acknowledgement within 7500ms
2023-05-10 11:02:12.516  INFO 16980 --- [axon-connector-16980@ctsjava2356-1] i.a.a.c.impl.AxonServerManagedChannel    : Reconnect for context default requested. Closing current connection.
2023-05-10 11:02:12.532  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2023-05-10 11:02:12.546  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2023-05-10 11:02:12.903  INFO 16980 --- [kafka-coordinator-heartbeat-thread | user-query] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Group coordinator localhost:9092 (id: 2147482646 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response.isDisconnected: false. Rediscovery will be attempted.
2023-05-10 11:02:12.903  INFO 16980 --- [kafka-coordinator-heartbeat-thread | user-query] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Requesting disconnect from last known coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:02:12.904  INFO 16980 --- [kafka-coordinator-heartbeat-thread | user-query] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-user-query-1, groupId=user-query] Client requested disconnect from node 2147482646
2023-05-10 11:02:12.921  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:02:12.922  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:02:12.922  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Group coordinator localhost:9092 (id: 2147482646 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
2023-05-10 11:02:12.922  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Requesting disconnect from last known coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:02:13.042  INFO 16980 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:02:17.528  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.axonframework.axonserver.connector.AxonServerException: The Event Stream has been closed, so no further events can be retrieved
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.peekNullable(EventBuffer.java:178) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.hasNextAvailable(EventBuffer.java:144) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:418) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:318) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1145) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1340) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1317) ~[axon-messaging-4.7.3.jar:4.7.3]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:539) ~[grpc-api-1.50.2.jar:1.50.2]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487) ~[grpc-stub-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:563) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:744) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:723) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.50.2.jar:1.50.2]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	... 1 common frames omitted

2023-05-10 11:02:17.529  INFO 16980 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:539) ~[grpc-api-1.50.2.jar:1.50.2]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487) ~[grpc-stub-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:563) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:744) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:723) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.50.2.jar:1.50.2]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.50.2.jar:1.50.2]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2023-05-10 11:02:17.529  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2023-05-10 11:02:17.567  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Released claim
2023-05-10 11:02:17.580  INFO 16980 --- [axon-connector-16980@ctsjava2356-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2023-05-10 11:02:17.592  INFO 16980 --- [grpc-default-executor-0] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2023-05-10 11:02:17.592  INFO 16980 --- [grpc-default-executor-2] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 2 command handlers registered
2023-05-10 11:02:18.608  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=2} for segment: Segment[0/0]
2023-05-10 11:03:09.817  INFO 16980 --- [http-nio-8081-exec-6] c.B.U.q.controller.UserQueryController   : generating token
2023-05-10 11:03:25.210  INFO 16980 --- [http-nio-8081-exec-7] c.B.U.q.controller.UserQueryController   : user validatedBearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyYWNoZWwiLCJleHAiOjE2ODM3MzI3ODksImlhdCI6MTY4MzY5Njc4OX0.49wycVB0p2arsVBtJkGo7jXHPfJQRtwdzrPr_pyD-6Q
2023-05-10 11:03:39.665  INFO 16980 --- [http-nio-8081-exec-8] c.B.U.q.controller.UserQueryController   : user validatedBearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyYWNoZWwiLCJleHAiOjE2ODM3MzI3ODksImlhdCI6MTY4MzY5Njc4OX0.49wycVB0p2arsVBtJkGo7jXHPfJQRtwdzrPr_pyD-6Q
2023-05-10 11:04:20.139  INFO 16980 --- [http-nio-8081-exec-10] c.B.U.q.controller.UserQueryController   : user validatedBearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyYWNoZWwiLCJleHAiOjE2ODM3MzI3ODksImlhdCI6MTY4MzY5Njc4OX0.49wycVB0p2arsVBtJkGo7jXHPfJQRtwdzrPr_pyD-6Q
2023-05-10 11:05:07.999  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.axonframework.axonserver.connector.AxonServerException: The Event Stream has been closed, so no further events can be retrieved
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.peekNullable(EventBuffer.java:178) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.hasNextAvailable(EventBuffer.java:144) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:418) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:318) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1145) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1340) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1317) ~[axon-messaging-4.7.3.jar:4.7.3]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2023-05-10 11:05:08.000  WARN 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2023-05-10 11:05:08.065  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Released claim
2023-05-10 11:05:09.092  INFO 16980 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2023-05-10 11:05:27.571  INFO 18792 --- [main] c.B.UserService.UserServiceApplication   : Starting UserServiceApplication using Java 11.0.12 on ctsjava2356 with PID 18792 (D:\redo\BlogApplication\UserService\target\classes started by cogjava3587 in D:\redo\BlogApplication)
2023-05-10 11:05:27.575  INFO 18792 --- [main] c.B.UserService.UserServiceApplication   : No active profile set, falling back to 1 default profile: "default"
2023-05-10 11:05:29.532  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-05-10 11:05:29.535  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-10 11:05:29.773  INFO 18792 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.BlogApplication.UserService.query.repository.EventRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2023-05-10 11:05:29.851  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 2 JPA repository interfaces.
2023-05-10 11:05:29.861  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-05-10 11:05:29.861  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-05-10 11:05:29.867  INFO 18792 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.BlogApplication.UserService.command.repository.RoleRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository
2023-05-10 11:05:29.868  INFO 18792 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.BlogApplication.UserService.command.repository.UserRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository
2023-05-10 11:05:29.882  INFO 18792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 MongoDB repository interfaces.
2023-05-10 11:05:30.248  INFO 18792 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d3a39e06-b4e1-3fe7-9699-492deb9508c6
2023-05-10 11:05:31.580  INFO 18792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-05-10 11:05:31.599  INFO 18792 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-10 11:05:31.599  INFO 18792 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-05-10 11:05:32.066  INFO 18792 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-10 11:05:32.068  INFO 18792 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4439 ms
2023-05-10 11:05:32.476  INFO 18792 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-10 11:05:32.546  INFO 18792 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-05-10 11:05:32.813  INFO 18792 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-10 11:05:32.976  INFO 18792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-10 11:05:33.507  INFO 18792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-10 11:05:33.562  INFO 18792 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-05-10 11:05:34.923  INFO 18792 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-10 11:05:34.935  INFO 18792 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-10 11:05:35.589  INFO 18792 --- [main] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2023-05-10 11:05:35.831  INFO 18792 --- [main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.BlogApplication.UserService].
2023-05-10 11:05:35.831  INFO 18792 --- [main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore.jpa].
2023-05-10 11:05:35.831  INFO 18792 --- [main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.deadletter.jpa].
2023-05-10 11:05:35.831  INFO 18792 --- [main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2023-05-10 11:05:35.831  INFO 18792 --- [main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventsourcing.eventstore.jpa].
2023-05-10 11:05:35.840  INFO 18792 --- [main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2023-05-10 11:05:35.841  INFO 18792 --- [main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2023-05-10 11:05:35.842  INFO 18792 --- [main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2023-05-10 11:05:35.843  INFO 18792 --- [main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/ParsingException
2023-05-10 11:05:36.403  INFO 18792 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/11.0.12+8-LTS-237"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@1ff55410], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@79b9b628]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@72378bfd], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-10 11:05:36.481  INFO 18792 --- [cluster-ClusterId{value='645b2d28f38d69408f0e2fc7', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:926}] to localhost:27017
2023-05-10 11:05:36.509  INFO 18792 --- [cluster-ClusterId{value='645b2d28f38d69408f0e2fc7', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53272200}
2023-05-10 11:05:36.480  INFO 18792 --- [cluster-rtt-ClusterId{value='645b2d28f38d69408f0e2fc7', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:925}] to localhost:27017
2023-05-10 11:05:36.556  WARN 18792 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type; You might want to check your annotation setup at the converter implementation
2023-05-10 11:05:36.687  WARN 18792 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type; You might want to check your annotation setup at the converter implementation
2023-05-10 11:05:37.070  INFO 18792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35d128fd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39a809db, org.springframework.security.web.context.SecurityContextPersistenceFilter@75f3c0c9, org.springframework.security.web.header.HeaderWriterFilter@78d72c9b, org.springframework.security.web.authentication.logout.LogoutFilter@4e6c4c55, com.BlogApplication.UserService.core.config.JwtAuthenticationFilter@3b9d85c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5068a2b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52268f73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1512a767, org.springframework.security.web.session.SessionManagementFilter@274f51ad, org.springframework.security.web.access.ExceptionTranslationFilter@5dcbdcb9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@546f0f36]
2023-05-10 11:05:37.139  WARN 18792 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-10 11:05:38.449  INFO 18792 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2023-05-10 11:05:38.510  WARN 18792 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-05-10 11:05:38.516  INFO 18792 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2023-05-10 11:05:38.672  INFO 18792 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [localhost:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2023-05-10 11:05:38.869  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.2
2023-05-10 11:05:38.869  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: f8c67dc3ae0a3265
2023-05-10 11:05:38.869  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1683696938865
2023-05-10 11:05:39.467  INFO 18792 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2023-05-10 11:05:39.474  INFO 18792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2023-05-10 11:05:39.475  INFO 18792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2023-05-10 11:05:39.475  INFO 18792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2023-05-10 11:05:39.497  INFO 18792 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2023-05-10 11:05:39.546  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2023-05-10 11:05:39.553  INFO 18792 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-10 11:05:39.584  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2023-05-10 11:05:39.584  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2023-05-10 11:05:39.584  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2023-05-10 11:05:39.585  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2023-05-10 11:05:39.585  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2023-05-10 11:05:39.585  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2023-05-10 11:05:39.585  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2023-05-10 11:05:40.055  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2023-05-10 11:05:40.059  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2023-05-10 11:05:40.062  INFO 18792 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-05-10 11:05:40.069  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1683696940068 with initial instances count: 6
2023-05-10 11:05:40.074  INFO 18792 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USER-SERVICE with eureka with status UP
2023-05-10 11:05:40.075  INFO 18792 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1683696940075, current=UP, previous=STARTING]
2023-05-10 11:05:40.077  INFO 18792 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/ctsjava2356.iiht.tech:USER-SERVICE:8081: registering service...
2023-05-10 11:05:40.119  INFO 18792 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-query-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-query
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2023-05-10 11:05:40.133  INFO 18792 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/ctsjava2356.iiht.tech:USER-SERVICE:8081 - registration status: 204
2023-05-10 11:05:40.174  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.2
2023-05-10 11:05:40.174  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: f8c67dc3ae0a3265
2023-05-10 11:05:40.174  INFO 18792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1683696940174
2023-05-10 11:05:40.202  INFO 18792 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-query-1, groupId=user-query] Subscribed to topic(s): UserEventsTopic
2023-05-10 11:05:40.241  INFO 18792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-05-10 11:05:40.244  INFO 18792 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8081
2023-05-10 11:05:40.250  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-query-1, groupId=user-query] Resetting the last seen epoch of partition UserEventsTopic-0 to 0 since the associated topicId changed from null to 0OYszrmATOW02v1Uk3z23w
2023-05-10 11:05:40.252  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-query-1, groupId=user-query] Cluster ID: fkMNqeDxSCCYS1B0yI3zwQ
2023-05-10 11:05:40.252  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Discovered group coordinator localhost:9092 (id: 2147482646 rack: null)
2023-05-10 11:05:40.256  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] (Re-)joining group
2023-05-10 11:05:40.282  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Request joining group due to: need to re-join with the given member-id
2023-05-10 11:05:40.282  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] (Re-)joining group
2023-05-10 11:05:40.708  INFO 18792 --- [main] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2023-05-10 11:05:41.119  INFO 18792 --- [main] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2023-05-10 11:05:41.137  INFO 18792 --- [main] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2023-05-10 11:05:41.155  INFO 18792 --- [main] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2023-05-10 11:05:41.156  INFO 18792 --- [main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.BlogApplication.UserService.command.commands.CreateUserCommand' in context 'default'
2023-05-10 11:05:41.156  INFO 18792 --- [main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.BlogApplication.UserService.command.commands.DeleteUserCommand' in context 'default'
2023-05-10 11:05:41.203  INFO 18792 --- [main] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2023-05-10 11:05:41.211  INFO 18792 --- [main] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.BlogApplication.UserService.query.Query.GetUsersQuery : java.util.List<com.BlogApplication.UserService.core.payload.UserModel>' in context 'default'
2023-05-10 11:05:41.344  INFO 18792 --- [main] c.B.UserService.UserServiceApplication   : Started UserServiceApplication in 14.654 seconds (JVM running for 15.751)
2023-05-10 11:05:41.388  INFO 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2023-05-10 11:05:41.434  INFO 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.BlogApplication.UserService.command.event, segment=Segment[0/0]}
2023-05-10 11:05:41.487  INFO 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2023-05-10 11:05:48.984  INFO 18792 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-10 11:05:48.984  INFO 18792 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-10 11:05:48.986  INFO 18792 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-05-10 11:05:49.953  INFO 18792 --- [http-nio-8081-exec-1] c.B.U.q.controller.UserQueryController   : user validatedBearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyYWNoZWwiLCJleHAiOjE2ODM3MzI3ODksImlhdCI6MTY4MzY5Njc4OX0.49wycVB0p2arsVBtJkGo7jXHPfJQRtwdzrPr_pyD-6Q
2023-05-10 11:06:07.582  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Successfully joined group with generation Generation{generationId=63, memberId='consumer-user-query-1-08aff720-ba13-4955-8fc0-442d0e20f8dd', protocol='range'}
2023-05-10 11:06:07.610  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Successfully synced group in generation Generation{generationId=63, memberId='consumer-user-query-1-08aff720-ba13-4955-8fc0-442d0e20f8dd', protocol='range'}
2023-05-10 11:06:07.614  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Notifying assignor about the new Assignment(partitions=[UserEventsTopic-0])
2023-05-10 11:06:07.621  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Adding newly assigned partitions: UserEventsTopic-0
2023-05-10 11:06:07.635  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-query-1, groupId=user-query] Setting offset for partition UserEventsTopic-0 to the committed offset FetchPosition{offset=16, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 1001 rack: null)], epoch=0}}
2023-05-10 11:06:07.637  INFO 18792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-query: partitions assigned: [UserEventsTopic-0]
2023-05-10 11:06:52.991  WARN 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.axonframework.axonserver.connector.AxonServerException: The Event Stream has been closed, so no further events can be retrieved
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.peekNullable(EventBuffer.java:178) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.axonserver.connector.event.axon.EventBuffer.hasNextAvailable(EventBuffer.java:144) ~[axon-server-connector-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:418) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:318) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1145) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1340) ~[axon-messaging-4.7.3.jar:4.7.3]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1317) ~[axon-messaging-4.7.3.jar:4.7.3]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2023-05-10 11:06:52.991  WARN 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2023-05-10 11:06:53.029  INFO 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Released claim
2023-05-10 11:06:54.046  INFO 18792 --- [EventProcessor[com.BlogApplication.UserService.command.event]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
